---
import { Image } from "astro:assets";
import logo from '../assets/logo-terra-regia.svg'
import { Button } from "./ui/button";
import { Icon } from 'astro-icon/components'
import { cn } from "@/lib/utils";
import { Menu } from 'lucide-react';
import {MobileNav} from '@/components/mobile-nav'


const menuitems = [
  {
    title: 'Proyectos', 
    path: '/tipo-de-propiedad/' // added "/" because when live the currentPath adds a '/' at the end
  }, 
  {
    title: 'Recomienda y gana', 
    path: '/recomienda-y-gana/'
  }, 
  {
    title: 'Inversi√≥n', 
    path: '/inversion/'
  }, 
 
]
const currentPath = Astro.url.pathname
---

<header class="py-[30px]">
  <nav class="container flex items-center justify-between h-14" aria-label="Global">
    <div class="flex lg:flex-1">
      <a href="/">
        <span class="sr-only">Terra Regia</span>
        <Image src={logo} alt="logo terra regia" class="h-8 sm:h-10 w-full" loading="eager"/>
      </a>
    </div>

    <div class="sm:hidden flex">        
      <MobileNav items={menuitems} client:load/>
    </div>
    <div class="hidden lg:flex lg:gap-x-10">
      {menuitems.map((item) => (      
          
        <a href={item.path} class={cn(`font-medium relative`, currentPath === item.path ? 'before:content-[""] before:absolute before:h-[1.6px] before:w-full before:-bottom-[2.6px] before:left-0 before:bg-black' : '')}>{item.title}</a>
      ))}
    </div>
    <div class="hidden lg:flex lg:flex-1 lg:justify-end lg:gap-3">      
      <Button className="text-base w-[120px] bg-[#25D366] hover:bg-[hsl(142,66%,48%)]" size="sm">
        <Icon name="whatsapp" class="mr-1"/>
        Contacto
      </Button>
    </div>
  </nav>
</header>
