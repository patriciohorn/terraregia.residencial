---
import { cn, getProjects } from '@/lib/utils';
import { Image } from 'astro:assets';

const projects = await getProjects();
---

<section>
  <div
    class="max-w-7xl mx-auto py-8 sm:py-12 group overflow-hidden relative before:content-[''] before:w-full before:h-full before:absolute sm:before:bg-custom-gradient flex items-center bg-[#f5f5f5] before:z-[2]">
    <div class="animate-slideFast sm:animate-slideSlow flex items-center gap-14 md:gap-24">
      {
        projects.map(
          (project, idx) =>
            project.data.logo && (
              <a
                aria-hidden="false"
                href={`/proyectos/${project.slug}`}
                class="shrink-0 cursor-pointer inline-flex max-w-20 sm:max-w-28">
                {project.data.logo && (
                  <Image
                    src={project.data.logo}
                    alt={`${project.data.title} logo`}
                    class="w-full h-full object-contain"
                  />
                )}
              </a>
            )
        )
      }
      {
        projects.map(
          (project, idx) =>
            project.data.logo && (
              <a
                aria-hidden="true"
                href={`/proyectos/${project.slug}`}
                class="shrink-0 cursor-pointer inline-flex max-w-24">
                {project.data.logo && (
                  <Image
                    src={project.data.logo}
                    alt={`${project.data.title} logo`}
                    class="w-full h-full object-contain"
                  />
                )}
              </a>
            )
        )
      }
    </div>
  </div>
</section>
