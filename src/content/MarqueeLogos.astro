---
import { cn, getProjects } from '@/lib/utils';
import { Image } from 'astro:assets';

const projects = await getProjects();
---

<section>
  <div
    class="max-w-7xl mx-auto py-4 sm:py-10 group overflow-hidden relative flex items-center bg-[#f5f5f5]">
    <div class="animate-slideSlow flex items-center gap-10 md:gap-20 whitespace-nowrap">
      {
        projects.map(
          (project, idx) =>
            project.data.logo && (
              <a
                aria-hidden="false"
                href={`/proyectos/${project.slug}`}
                class="shrink-0 cursor-pointer inline-flex max-w-24 sm:max-w-28">
                <Image
                  src={project.data.logo}
                  alt={`${project.data.title} logo`}
                  class="w-full h-full object-contain"
                  loading="eager"
                />
              </a>
            )
        )
      }

      {
        projects.map(
          (project, idx) =>
            project.data.logo && (
              <a
                aria-hidden="true"
                href={`/proyectos/${project.slug}`}
                class="shrink-0 cursor-pointer inline-flex max-w-20 sm:max-w-28">
                <Image
                  src={project.data.logo}
                  alt={`${project.data.title} logo`}
                  class="w-full h-full object-contain"
                  loading="eager"
                />
              </a>
            )
        )
      }
    </div>
  </div>
</section>
