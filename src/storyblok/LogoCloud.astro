---
import { storyblokEditable } from '@storyblok/astro';
import { Image } from 'astro:assets';
const { blok } = Astro.props;
const logos = blok.logos;
const repeatCount = 3;
---

<section {...storyblokEditable(blok)}>
  <div
    class="max-w-7xl mx-auto py-4 sm:py-10 group overflow-hidden relative flex items-center bg-[#f5f5f5]">
    <div class="animate-slideSlow flex items-center gap-10 md:gap-20 whitespace-nowrap">
      {
        Array.from({ length: repeatCount }).map((_, index) =>
          logos.map((item: any) => (
            <a
              href={`/${item.link.cached_url}`}
              class="shrink-0 cursor-pointer inline-flex max-w-24 sm:max-w-28">
              <Image
                src={item.logo_image.filename}
                alt={item.alt}
                inferSize
                format="webp"
                class="w-full h-full object-contain"
                loading="eager"
              />
            </a>
          ))
        )
      }
    </div>
  </div>
</section>
